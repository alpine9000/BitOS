
Analyzing function: main/9
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }

Analyzing function body size: main

Inline summary for main/9 inlinable
  self time:       29
  global time:     0
  self size:       12
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:5.000000, time:5.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    f1/8 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 0 stack: 0
    get_s/3 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 0 stack: 0


Analyzing function: f1/8
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }

Analyzing function body size: f1

Inline summary for f1/8 inlinable
  self time:       13
  global time:     0
  self size:       5
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    f2/7 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 0 stack: 0


Analyzing function: f2/7
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }

Analyzing function body size: f2

Inline summary for f2/7 inlinable
  self time:       15
  global time:     0
  self size:       7
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:2.000000, time:2.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    g1/6 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 0 stack: 0


Analyzing function: g1/6
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }

Analyzing function body size: g1

Inline summary for g1/6 inlinable
  self time:       19
  global time:     0
  self size:       8
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
    size:0.500000, time:0.500000, predicate:(op0[ref offset: 32] changed) && (not inlined)
    size:0.500000, time:0.500000, predicate:(op0[ref offset: 32] changed)
  calls:
    indirect call loop depth: 0 freq:1000 size: 4 time: 16


Analyzing function: good_target/5
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }

Analyzing function body size: good_target

Inline summary for good_target/5 inlinable
  self time:       3
  global time:     0
  self size:       4
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:1.000000, time:1.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:


Analyzing function: wrong_target/4
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { }

Analyzing function body size: wrong_target

Inline summary for wrong_target/4 inlinable
  self time:       10
  global time:     0
  self size:       3
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:2.000000, time:0.000000, predicate:(not inlined)
  calls:
    abort/10 function body not available
      loop depth: 0 freq:1000 size: 1 time: 10 callee size: 0 stack: 0


Analyzing function: get_s/3
;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }

Analyzing function body size: get_s

Inline summary for get_s/3
  self time:       2
  global time:     0
  self size:       3
  global size:     0
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:

Inline summary for f2.constprop/12 inlinable
  self time:       15
  global time:     15
  self size:       7
  global size:     7
  min size:       4
  self stack:      0
  global stack:    0
    size:2.000000, time:2.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    g1/6 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 4 stack: 0

Inline summary for f1.constprop/11 inlinable
  self time:       13
  global time:     13
  self size:       5
  global size:     5
  min size:       4
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    f2.constprop/12 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 3 stack: 0

Inline summary for main/9 inlinable
  self time:       29
  global time:     29
  self size:       12
  global size:     12
  min size:       0
  self stack:      0
  global stack:    0
    size:5.000000, time:5.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    f1.constprop/11 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 2 stack: 0
    get_s/3 function not considered for inlining
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 1 stack: 0

Inline summary for g1/6 inlinable
  self time:       19
  global time:     19
  self size:       8
  global size:     8
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
    size:0.500000, time:0.500000, predicate:(op0[ref offset: 32] changed) && (not inlined)
    size:0.500000, time:0.500000, predicate:(op0[ref offset: 32] changed)
  calls:
    indirect call loop depth: 0 freq:1000 size: 4 time: 16

Inline summary for good_target/5 inlinable
  self time:       3
  global time:     3
  self size:       4
  global size:     4
  min size:       0
  self stack:      0
  global stack:    0
    size:1.000000, time:1.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:

Inline summary for wrong_target/4 inlinable
  self time:       10
  global time:     10
  self size:       3
  global size:     3
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:2.000000, time:0.000000, predicate:(not inlined)
  calls:
    abort/10 function body not available
      loop depth: 0 freq:1000 size: 1 time: 10 callee size: 0 stack: 0

Inline summary for get_s/3
  self time:       2
  global time:     2
  self size:       3
  global size:     3
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:


Flattening functions:
Flattening f1
Flattening f1.constprop
 Inlining f2.constprop into f1.constprop.
Not inlining: SSA form does not match.
Overall time estimate: 78 weighted by profile: 0

Deciding on inlining of small functions.  Starting with size 37.
Enqueueing calls in f2.constprop/12.
Enqueueing calls in f1.constprop/11.
Enqueueing calls in main/9.
  not inlinable: main/9 -> get_s/3, function not inlinable
Enqueueing calls in g1/6.
Enqueueing calls in good_target/5.
Enqueueing calls in wrong_target/4.
  not inlinable: wrong_target/4 -> abort/10, function body not available
Enqueueing calls in get_s/3.

Considering f1.constprop/11 with 7 size
 to be inlined into main/9 in iinline-6.c:65
 Estimated badness is -14.857143, frequency 1.00.
 Inlined into main which now has time 31 and size 14,net change of -5.
New minimal size reached: 32

Considering g1/6 with 8 size
 to be inlined into f2.constprop/12 in iinline-6.c:50
 Estimated badness is -1.155556, frequency 1.00.
 Inlined into f2.constprop which now has time 15 and size 7,net change of -5.
New minimal size reached: 27
Unit growth for small function inlining: 37->27 (-28%)

Reclaiming functions:
Reclaiming variables:
Clearing address taken flags:

Deciding on functions to be inlined into all callers and removing useless speculations:
  not inlinable: main/9 -> get_s/3, function not inlinable
  not inlinable: main/9 -> get_s/3, function not inlinable

Inlined 3 calls, eliminated 3 functions

Overall time estimate: 52 weighted by profile: 0

Why inlining failed?
function body not available                       :        1 calls,     1000 freq, 0 count
function not inlinable                            :        1 calls,     1000 freq, 0 count
Inline summary for main/9 inlinable
  self time:       29
  global time:     37
  self size:       12
  global size:     17
  min size:       20
  self stack:      0
  global stack:    0
    size:7.500000, time:7.500000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:
    f1.constprop/11 inlined
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 3 stack: 0
      Stack frame offset 0, callee self size 0, callee size 0
      f2.constprop/12 inlined
        loop depth: 0 freq:1000 size: 2 time: 11 callee size: 3 stack: 0
        Stack frame offset 0, callee self size 0, callee size 0
        g1/6 inlined
          loop depth: 0 freq:1000 size: 2 time: 11 callee size: 4 stack: 0
          Stack frame offset 0, callee self size 0, callee size 0
          indirect call loop depth: 0 freq:1000 size: 4 time: 16
    get_s/3 function not inlinable
      loop depth: 0 freq:1000 size: 2 time: 11 callee size: 1 stack: 0

Inline summary for good_target/5 inlinable
  self time:       3
  global time:     3
  self size:       4
  global size:     4
  min size:       0
  self stack:      0
  global stack:    0
    size:1.000000, time:1.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:

Inline summary for wrong_target/4 inlinable
  self time:       10
  global time:     10
  self size:       3
  global size:     3
  min size:       0
  self stack:      0
  global stack:    0
    size:0.000000, time:0.000000, predicate:(true)
    size:2.000000, time:0.000000, predicate:(not inlined)
  calls:
    abort/10 function body not available
      loop depth: 0 freq:1000 size: 1 time: 10 callee size: 0 stack: 0

Inline summary for get_s/3
  self time:       2
  global time:     2
  self size:       3
  global size:     3
  min size:       0
  self stack:      0
  global stack:    0
  estimated growth:-5
    size:0.000000, time:0.000000, predicate:(true)
    size:3.000000, time:2.000000, predicate:(not inlined)
  calls:

Symbol table:

f2.constprop.1/12 (f2.constprop) @0x142714190
  Type: function definition analyzed
  Visibility:
  References: gs/0 (read)good_target/5 (addr)wrong_target/4 (addr)
  Referring: 
  Function f2.constprop/12 is inline copy in main/9
  Clone of f2/7
  Availability: local
  First run: 0
  Function flags: local executed_once
  Called by: f1.constprop.0/11 (inlined) (1.00 per call) 
  Calls: g1/6 (inlined) (1.00 per call) 
f1.constprop.0/11 (f1.constprop) @0x142714000
  Type: function definition analyzed
  Visibility:
  References: wrong_target/4 (addr)
  Referring: 
  Function f1.constprop/11 is inline copy in main/9
  Clone of f1/8
  Availability: local
  First run: 0
  Function flags: local executed_once
  Called by: main/9 (inlined) (1.00 per call) 
  Calls: f2.constprop.1/12 (inlined) (1.00 per call) 
abort/10 (abort) @0x142603e10
  Type: function
  Visibility: external public
  References: 
  Referring: 
  Availability: not_available
  First run: 0
  Function flags:
  Called by: wrong_target/4 (1.00 per call) 
  Calls: 
main/9 (main) @0x142603c80
  Type: function definition analyzed
  Visibility: externally_visible public
  References: wrong_target/4 (addr)gs/0 (write)gr/1 (read)
  Referring: 
  Availability: available
  First run: 0
  Function flags: body only_called_at_startup executed_once only_called_at_startup
  Called by: 
  Calls: f1.constprop.0/11 (inlined) (1.00 per call) get_s/3 (1.00 per call) 
f1/8 (f1) @0x142603af0
  Type: function
  Body removed by symtab_remove_unreachable_nodes
  Visibility: prevailing_def_ironly
  References: 
  Referring: 
  Availability: not_available
  First run: 0
  Function flags: body executed_once
  Called by: 
  Calls: 
f2/7 (f2) @0x142603960
  Type: function
  Body removed by symtab_remove_unreachable_nodes
  Visibility: prevailing_def_ironly
  References: 
  Referring: 
  Availability: not_available
  First run: 0
  Function flags: body executed_once
  Called by: 
  Calls: 
g1/6 (g1) @0x1426037d0
  Type: function definition analyzed
  Visibility: prevailing_def_ironly
  References: 
  Referring: 
  Function g1/6 is inline copy in main/9
  Availability: local
  First run: 0
  Function flags: body local executed_once
  Called by: f2.constprop.1/12 (inlined) (1.00 per call) 
  Calls: 
   Indirect call(1.00 per call) 
good_target/5 (good_target) @0x142603640
  Type: function definition analyzed
  Visibility: prevailing_def_ironly
  Address is taken.
  References: gr/1 (write)
  Referring: f2.constprop.1/12 (addr)
  Availability: available
  First run: 0
  Function flags: body
  Called by: 
  Calls: 
wrong_target/4 (wrong_target) @0x1426034b0
  Type: function definition analyzed
  Visibility: prevailing_def_ironly
  Address is taken.
  References: 
  Referring: main/9 (addr)f1.constprop.0/11 (addr)f2.constprop.1/12 (addr)
  Availability: available
  First run: 0
  Function flags: body executed_once
  Called by: 
  Calls: abort/10 (1.00 per call) 
get_s/3 (get_s) @0x142603320
  Type: function definition analyzed
  Visibility: prevailing_def_ironly
  References: gc/2 (addr)
  Referring: 
  Availability: local
  First run: 0
  Function flags: body local executed_once
  Called by: main/9 (1.00 per call) 
  Calls: 
gc/2 (gc) @0x142700300
  Type: variable definition analyzed
  Visibility: externally_visible public common
  References: 
  Referring: get_s/3 (addr)
  Availability: overwritable
  Varpool flags:
gr/1 (gr) @0x142700280
  Type: variable definition analyzed
  Visibility: prevailing_def_ironly
  References: 
  Referring: good_target/5 (write)main/9 (read)
  Availability: available
  Varpool flags: initialized
gs/0 (gs) @0x142700200
  Type: variable definition analyzed
  Visibility: prevailing_def_ironly
  References: 
  Referring: f2.constprop.1/12 (read)main/9 (write)
  Availability: available
  Varpool flags:
main (int argc, char * * argv)
{
  struct S * s;
  int _8;

  <bb 2>:
  s_2 = get_s ();
  s_2->i = 5678;
  s_2->f = wrong_target;
  s_2->j = 1234;
  gs = s_2;
  f1 (s_2);
  _8 = gr;
  return _8;

}


g1 (struct S * s)
{
  void (*<T2de>) (struct S *) _3;

  <bb 2>:
  _3 = s_2(D)->f;
  _3 (s_2(D));
  return;

}


good_target (struct S * s)
{
  <bb 2>:
  gr = 0;
  return;

}


wrong_target (struct S * s)
{
  <bb 2>:
  abort ();

}


get_s ()
{
  <bb 2>:
  return &gc;

}



;; Function get_s (get_s, funcdef_no=0, decl_uid=1472, cgraph_uid=0, symbol_order=3) (executed once)

get_s ()
{
  <bb 2>:
  return &gc;

}



;; Function good_target (good_target, funcdef_no=2, decl_uid=1478, cgraph_uid=2, symbol_order=5)

good_target (struct S * s)
{
  <bb 2>:
  gr = 0;
  return;

}



;; Function wrong_target (wrong_target, funcdef_no=1, decl_uid=1475, cgraph_uid=1, symbol_order=4) (executed once)

wrong_target (struct S * s)
{
  <bb 2>:
  abort ();

}



;; Function main (main, funcdef_no=6, decl_uid=1491, cgraph_uid=6, symbol_order=9) (executed once)

Merging blocks 2 and 4
Removing basic block 5
Removing basic block 6
Removing basic block 7
Removing basic block 9
Merging blocks 2 and 8
Merging blocks 2 and 10
Merging blocks 2 and 3

Symbols to be put in SSA form
{ D.1507 }
Incremental SSA update started at block: 0
Number of blocks in CFG: 3
Number of blocks to update: 2 ( 67%)


;; 1 loops found
;;
;; Loop 0
;;  header 0, latch 1
;;  depth 0, outer -1
;;  nodes: 0 1 2
;; 2 succs { 1 }
main (int argc, char * * argv)
{
  struct S * s;
  struct S * gs.0_7;
  int _8;
  void (*<T2de>) (struct S *) _9;

  <bb 2>:
  s_2 = get_s ();
  s_2->i = 5678;
  s_2->f = wrong_target;
  s_2->j = 1234;
  gs = s_2;
  gs.0_7 = gs;
  gs.0_7->f = good_target;
  _9 = s_2->f;
  _9 (s_2);
  _8 = gr;
  return _8;

}


