#pragma once

#include <sys/lock.h>

/*
typedef struct {
  unsigned lock;
  unsigned thread;
  unsigned count;
} _bitos_recursive_lock_t;


typedef unsigned _LOCK_T;
typedef _bitos_recursive_lock_t _LOCK_RECURSIVE_T;


void _bitos_lock_init(_LOCK_T *lock);
void _bitos_lock_close(_LOCK_T *lock);
unsigned _bitos_lock_acquire(_LOCK_T *lock);
unsigned _bitos_lock_try_acquire(_LOCK_T *lock); 
void _bitos_lock_release(_LOCK_T *lock);

void _bitos_lock_init_recursive(_LOCK_RECURSIVE_T* lock);
void _bitos_lock_close_recursive(_LOCK_RECURSIVE_T* lock);
unsigned _bitos_lock_acquire_recursive(_LOCK_RECURSIVE_T *lock);
unsigned _bitos_lock_try_acquire_recursive(_LOCK_RECURSIVE_T *lock);
void _bitos_lock_release_recursive(_LOCK_RECURSIVE_T *lock);

*/
